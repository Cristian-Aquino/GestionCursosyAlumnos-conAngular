import{c as F}from"./chunk-E6VKM4BV.js";import"./chunk-BV5OK7LD.js";import"./chunk-NKJEXYBB.js";import{a as j,c as B,d as G,e as k,y as P}from"./chunk-MT3NPNYF.js";import"./chunk-5L3ICMBY.js";import{$ as M,aa as N,ca as x,ea as R,fa as u,ha as T,ia as E,ka as A,la as D,ma as L,na as _}from"./chunk-P6QF5PR7.js";import"./chunk-EJJBCPAK.js";import{a as w,k as I,n as b}from"./chunk-465FC233.js";import{Eb as h,Mb as i,Nb as r,Ob as v,Vb as C,cd as y,fc as n,hb as g,ib as l,ja as m,ta as s,ua as p}from"./chunk-LA57Z5ON.js";var c=class o{constructor(t,e,a){this.formBuilder=t;this.authServicio=e;this.router=a;this.loginForm=this.formBuilder.group({email:["",u.required,u.email],password:["",u.required]})}loginForm;passwordInputType="password";cambiarPasswordTipoInput(){this.passwordInputType==="password"?this.passwordInputType="text":this.passwordInputType="password"}login(){this.authServicio.login(this.loginForm.value).subscribe({next:t=>{this.router.navigate(["dashboard","home"])},error:t=>{console.log(t),t instanceof Error&&alert(t.message),t instanceof w&&t.status===0&&alert("No se pudo conectar con el servidor.")}})}iniciarSesion(){this.loginForm.invalid?this.loginForm.markAllAsTouched():this.login()}static \u0275fac=function(e){return new(e||o)(l(_),l(F),l(I))};static \u0275cmp=s({type:o,selectors:[["app-login"]],decls:19,vars:2,consts:[[1,"row",3,"ngSubmit","formGroup"],[1,"col-12"],[1,"w-100"],["formControlName","email","matInput",""],["formControlName","password","matInput","",3,"type"],["type","button","matSuffix","","mat-icon-button","",3,"click"],["type","submit","mat-flat-button","",1,"w-100"]],template:function(e,a){e&1&&(i(0,"h1"),n(1,"Iniciar sesion"),r(),i(2,"form",0),C("ngSubmit",function(){return a.iniciarSesion()}),i(3,"div",1)(4,"mat-form-field",2)(5,"mat-label"),n(6,"Email"),r(),v(7,"input",3),r()(),i(8,"div",1)(9,"mat-form-field",2)(10,"mat-label"),n(11,"Contrase\xF1a"),r(),v(12,"input",4),i(13,"button",5),C("click",function(){return a.cambiarPasswordTipoInput()}),i(14,"mat-icon"),n(15,"visibility"),r()()()(),i(16,"div",1)(17,"button",6),n(18,"Ingresar"),r()()()),e&2&&(g(2),h("formGroup",a.loginForm),g(10),h("type",a.passwordInputType))},dependencies:[M,N,x,G,j,B,k,A,R,T,E,D,L]})};var f=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=s({type:o,selectors:[["app-registrarse"]],decls:2,vars:0,template:function(e,a){e&1&&(i(0,"p"),n(1,"registrarse works!"),r())}})};var z=[{path:"login",component:c},{path:"registrarse",component:f},{path:"**",redirectTo:"login"}],d=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=p({type:o});static \u0275inj=m({imports:[b.forChild(z),b]})};var V=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=p({type:o});static \u0275inj=m({imports:[y,d,P]})};export{V as AuthModule};
